var f

var foo = {
  .method(self, param) {
    var f_() {
      print(param)
    }
    f = f_
  },
}

foo::method("param")
f() # out: param
